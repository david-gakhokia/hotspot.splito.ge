# MikroTik рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃгрЃЋрЃЊрЃЮрЃЏрЃљ - рЃАрЃарЃБрЃџрЃў рЃњрЃљрЃўрЃЊрЃў

## ­Ъј» рЃърЃљрЃАрЃБрЃ«рЃў рЃЌрЃЦрЃЋрЃћрЃюрЃА рЃЎрЃўрЃЌрЃ«рЃЋрЃљрЃќрЃћ

**рЃЎрЃў, MikroTik-рЃўрЃА рЃцрЃљрЃўрЃџрЃћрЃЉрЃќрЃћ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃарЃў рЃгрЃЋрЃЊрЃЮрЃЏрЃљ рЃерЃћрЃњрЃЋрЃўрЃФрЃџрЃўрЃљ!** рЃљрЃЏ рЃърЃарЃЮрЃћрЃЦрЃбрЃерЃў рЃерЃћрЃЦрЃЏрЃюрЃўрЃџрЃўрЃљ рЃАрЃљрЃЏрЃў рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЏрЃћрЃЌрЃЮрЃЊрЃў:

## ­ЪћД рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃА рЃЏрЃћрЃЌрЃЮрЃЊрЃћрЃЉрЃў

### 1. **API рЃљрЃарЃ«рЃўрЃЌ** (RouterOS API)
```bash
# рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃАрЃўрЃўрЃА рЃЏрЃўрЃАрЃљрЃдрЃћрЃЉрЃљрЃЊ
php artisan mikrotik:files list

# hotspot рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃАрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА  
php artisan mikrotik:files hotspot

# рЃцрЃљрЃўрЃџрЃўрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА
php artisan mikrotik:files info --path="hotspot/login.html"

# рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ
php artisan mikrotik:files create-dir --path="hotspot"
```

### 2. **FTP рЃљрЃарЃ«рЃўрЃЌ** (рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃћрЃцрЃћрЃЦрЃбрЃБрЃарЃў)
```bash
# FTP рЃЎрЃљрЃЋрЃерЃўрЃарЃўрЃА рЃбрЃћрЃАрЃбрЃў
php artisan hotspot:upload --test

# hotspot рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ backup-рЃўрЃЌ
php artisan hotspot:upload --backup

# рЃўрЃФрЃБрЃџрЃћрЃЉрЃўрЃЌрЃў рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ
php artisan hotspot:upload --force
```

### 3. **Web Interface-рЃўрЃЌ**
```
http://localhost/mikrotik/files
```

## РџЎ№ИЈ MikroTik-рЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ

### FTP рЃАрЃћрЃарЃЋрЃўрЃАрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ
```RouterOS
# SSH/WinBox-рЃўрЃЌ рЃерЃћрЃЊрЃўрЃЌ MikroTik-рЃерЃў рЃЊрЃљ рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ:
/ip service set ftp disabled=no port=21

# рЃљрЃю рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў IP-рЃАрЃЌрЃЋрЃўрЃА
/ip firewall filter add chain=input protocol=tcp dst-port=21 src-address=192.168.88.0/24 action=accept
```

### API рЃАрЃћрЃарЃЋрЃўрЃАрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ
```RouterOS
/ip service set api disabled=no port=8728
/ip service set api-ssl disabled=no port=8729
```

## ­ЪЊЂ рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ MikroTik-рЃерЃў

```
/ (root)
РћюРћђРћђ hotspot/
Рћѓ   РћюРћђРћђ login.html
Рћѓ   РћюРћђРћђ logout.html
Рћѓ   РћюРћђРћђ status.html
Рћѓ   РћюРћђРћђ error.html
Рћѓ   РћюРћђРћђ css/
Рћѓ   Рћѓ   РћћРћђРћђ styles.css
Рћѓ   РћюРћђРћђ js/
Рћѓ   Рћѓ   РћћРћђРћђ app.js
Рћѓ   РћћРћђРћђ images/
Рћѓ       РћюРћђРћђ logo.png
Рћѓ       РћћРћђРћђ tower-group-banner.jpg
РћюРћђРћђ pub/
РћћРћђРћђ flash/
```

## ­Ъџђ рЃАрЃгрЃарЃљрЃцрЃў рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ

### 1. FTP-рЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ MikroTik-рЃќрЃћ
```bash
# WinBox рЃљрЃю SSH-рЃўрЃЌ:
/ip service print
/ip service set ftp disabled=no
```

### 2. рЃЎрЃљрЃЋрЃерЃўрЃарЃўрЃА рЃбрЃћрЃАрЃбрЃў
```bash
php artisan hotspot:upload --test
```

### 3. рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ
```bash
php artisan hotspot:upload --backup --force
```

## ­ЪћЇ рЃ«рЃерЃўрЃарЃў рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃћрЃЉрЃў рЃЊрЃљ рЃњрЃљрЃЊрЃљрЃГрЃарЃљ

### РЮї "FTP connection failed"
```bash
# рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ:
1. /ip service print  # FTP disabled=no рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА
2. /ip firewall filter print  # FTP рЃърЃЮрЃарЃбрЃў 21 рЃдрЃўрЃљ рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА  
3. ping 192.168.88.1  # рЃЦрЃАрЃћрЃџрЃБрЃарЃў рЃЎрЃљрЃЋрЃерЃўрЃарЃў
```

### РЮї "API connection failed"  
```bash
# рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ:
1. /ip service set api disabled=no
2. .env рЃцрЃљрЃўрЃџрЃерЃў рЃАрЃгрЃЮрЃарЃў credentials
3. /user print  # admin user рЃљрЃарЃАрЃћрЃЉрЃЮрЃЉрЃА
```

### РЮї "Files not found"
```bash
# рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ:
php artisan hotspot:deploy --force
```

## ­ЪЊІ PHP API рЃЏрЃћрЃЌрЃЮрЃЊрЃћрЃЉрЃў

```php
use App\Services\MikrotikService;
use App\Services\MikrotikFileService;

// рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃАрЃўрЃљ
$mikrotik = new MikrotikService();
$files = $mikrotik->getFileList();
$hotspotFiles = $mikrotik->getHotspotFiles();

// рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ
$fileService = new MikrotikFileService();
$fileService->uploadFileViaFTP($localPath, $remotePath);
$fileService->uploadHotspotFiles();

// рЃцрЃљрЃўрЃџрЃўрЃА рЃгрЃљрЃерЃџрЃљ
$mikrotik->removeFile('hotspot/old-file.html');

// рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ
$mikrotik->createDirectory('hotspot/new-folder');
```

## ­Ъїљ Web Interface

### рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ рЃЉрЃарЃљрЃБрЃќрЃћрЃарЃўрЃЌ:
1. рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ: `http://localhost/mikrotik/files`
2. рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ drag & drop-рЃўрЃЌ
3. рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃЕрЃљрЃЏрЃЮрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ
4. рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃгрЃљрЃерЃџрЃљ
5. рЃарЃћрЃљрЃџ рЃбрЃљрЃўрЃЏ рЃАрЃбрЃљрЃбрЃБрЃАрЃў

## ­Ъј» рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃћрЃЉрЃў

### рЃЏрЃљрЃарЃбрЃўрЃЋрЃў рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА:
1. **FTP рЃЏрЃћрЃЌрЃЮрЃЊрЃў** - рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃАрЃбрЃљрЃЉрЃўрЃџрЃБрЃарЃў
2. **PowerShell рЃАрЃЎрЃарЃўрЃърЃбрЃћрЃЉрЃў** - Windows рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА
3. **Web Interface** - рЃњрЃарЃљрЃцрЃўрЃЎрЃБрЃџрЃў рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА

### рЃърЃарЃЮрЃцрЃћрЃАрЃўрЃЮрЃюрЃљрЃџрЃБрЃарЃў рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА:
1. **API рЃЏрЃћрЃЌрЃЮрЃЊрЃћрЃЉрЃў** - рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА
2. **Artisan Commands** - DevOps рЃърЃарЃЮрЃфрЃћрЃАрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА
3. **Backup рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ** - рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА

## ­Ъћњ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃљ

```bash
# Backup-рЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ
php artisan hotspot:upload --backup

# рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА backup рЃ«рЃћрЃџрЃўрЃЌ
$fileService->backupHotspotFiles('/path/to/backup');
```

рЃћрЃА рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА MikroTik-рЃўрЃА рЃцрЃљрЃўрЃџрЃћрЃЉрЃќрЃћ рЃАрЃарЃБрЃџ рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃА! ­ЪјЅ
